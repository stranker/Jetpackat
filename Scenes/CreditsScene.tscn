[gd_scene load_steps=19 format=2]

[ext_resource path="res://Sprites/Background/Bg1.png" type="Texture" id=1]
[ext_resource path="res://Sprites/Background/Star2.png" type="Texture" id=2]
[ext_resource path="res://Fonts/Handsdown.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://Fonts/overload burn.ttf" type="DynamicFontData" id=4]
[ext_resource path="res://Sprites/UI/BackButton.png" type="Texture" id=5]
[ext_resource path="res://Sprites/UI/BackButtonPressed.png" type="Texture" id=6]
[ext_resource path="res://Sprites/Cat/Skin/Skin.png" type="Texture" id=7]
[ext_resource path="res://Sprites/Cat/Eyes.png" type="Texture" id=8]
[ext_resource path="res://Sprites/Cat/Jetpack.png" type="Texture" id=9]
[ext_resource path="res://Sprites/Background/SmokeParticle.png" type="Texture" id=10]

[sub_resource type="GDScript" id=1]
script/source = "extends Control


func _ready():
	set_cat_equipment()
	pass

func set_cat_equipment():
	$Player/Skin.self_modulate = 'ffffff'
	$Player/Hat.self_modulate = 'ffffff'
	$Player/Scarf.self_modulate = 'ffffff'
	$Player/Jetpack.self_modulate = 'ffffff'
	$Player/Pattern.self_modulate = 'ffffff'
	if !GameManager.items_equipped.keys().empty():
		for i in GameManager.items_equipped.keys():
			set_player_menu_item(i)
	pass

func set_player_menu_item(item_type):
	var item_info = GameManager.items_equipped[item_type]
	var texture_route = 'Sprites/Cat/'
	if item_type != 'Skin' or item_type != 'Scarf':
		texture_route = 'Sprites/Shop/Cat/'
	if item_type == 'Skin':
		$Player/Skin.self_modulate = item_info[1]
	else:
		if typeof(item_info) != TYPE_ARRAY:
			$Player.get_node(item_type).texture = load(texture_route + item_type + '/' + item_info + '.png')
		else:
			$Player.get_node(item_type).texture = load(texture_route + item_type + '/' + item_info[0] + '.png')
			$Player.get_node(item_type).self_modulate = item_info[1]
	pass

func _on_BackButton_button_down():
	$Anim.play('FadeOut')
	pass # Replace with function body.


func _input(event):
	if event is InputEventScreenTouch:
		if $Anim.current_animation == 'Start':
			$Anim.advance($Anim.current_animation_length)

func _on_Anim_animation_finished(anim_name):
	if anim_name == 'FadeOut':
		get_tree().change_scene('res://Scenes/MainMenu.tscn')
	pass # Replace with function body.
"

[sub_resource type="DynamicFont" id=2]
size = 150
outline_size = 10
use_filter = true
font_data = ExtResource( 3 )

[sub_resource type="DynamicFont" id=3]
size = 62
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=4]
size = 62
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=5]
size = 56
font_data = ExtResource( 4 )

[sub_resource type="Animation" id=6]
resource_name = "FadeOut"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("FadeOut:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 0, 0, 0, 1 ) ]
}

[sub_resource type="Animation" id=7]
length = 7.0
tracks/0/type = "value"
tracks/0/path = NodePath("ProgrammerTitle/ProgrammerLabel:percent_visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.4, 1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 1.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("ProgrammerTitle/ProgrammerLabel:custom_colors/font_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1.5, 2 ),
"transitions": PoolRealArray( 1, 2.92817, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 0.866667, 0, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("ArtistTitle/ArtistLabel:percent_visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 3.5, 4.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 1.0 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("FontTitle/Font:percent_visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 4, 4.3, 4.6, 5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 0.1, 1.0, 1.0 ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("BackButton:self_modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 6, 6.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("BackButton:disabled")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 6, 6.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("Player:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 0, 0.4, 1, 1.5, 2.2, 2.5, 2.7, 3.1, 3.7, 7 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -133.396, 494.541 ), Vector2( 208.228, 501.049 ), Vector2( 930.519, 543.345 ), Vector2( 1050.9, 527.077 ), Vector2( 159.425, 536.838 ), Vector2( 104.114, 523.824 ), Vector2( 113.875, 533.584 ), Vector2( 107.368, 520.57 ), Vector2( 322.796, 880.629 ), Vector2( 1947.29, 1670 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("Player:rotation_degrees")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 0, 0.4, 1, 1.5, 2.2, 2.5, 2.7, 3.1, 3.5, 6, 7 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 13.897, 13.897, 13.897, -10.1824, -22.1191, 4.57528, 4.57528, 4.57528, 4.57528, 4.57528, 4.57528 ]
}
tracks/8/type = "value"
tracks/8/path = NodePath("Player:scale")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"times": PoolRealArray( 0, 3.1, 6, 7 ),
"transitions": PoolRealArray( 1, 0.840897, 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( -4, 4 ), Vector2( -4, 4 ), Vector2( -30, 30 ), Vector2( -30, 30 ) ]
}
tracks/9/type = "value"
tracks/9/path = NodePath("Player/Jetpack/CPUParticles2D:scale_amount")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PoolRealArray( -0.1, 3.1, 3.5, 6 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 3.0, 3.0, 10.0, 20.0 ]
}

[sub_resource type="Gradient" id=8]
offsets = PoolRealArray( 0, 0.592593, 0.802469, 1 )
colors = PoolColorArray( 1, 1, 1, 1, 1, 0.984375, 0, 1, 1, 0.0543213, 0.0078125, 1, 0, 0, 0, 0 )

[node name="CreditsScene" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 1 )

[node name="Bg" type="TextureRect" parent="."]
editor/display_folded = true
self_modulate = Color( 0.168627, 0.0196078, 0.231373, 1 )
margin_right = 40.0
margin_bottom = 40.0
texture = ExtResource( 1 )

[node name="Star2" type="TextureRect" parent="Bg"]
margin_right = 1080.0
margin_bottom = 1920.0
texture = ExtResource( 2 )

[node name="CreditsLabel" type="Label" parent="."]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -318.0
margin_right = 318.0
margin_bottom = 336.0
custom_fonts/font = SubResource( 2 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Credits"
align = 1
valign = 1

[node name="ProgrammerTitle" type="Label" parent="."]
editor/display_folded = true
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -311.995
margin_top = -570.0
margin_right = 353.005
margin_bottom = -494.0
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "Programmer:"
align = 1

[node name="ProgrammerLabel" type="Label" parent="ProgrammerTitle"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -332.5
margin_top = 53.6094
margin_right = 332.5
margin_bottom = 129.609
custom_fonts/font = SubResource( 4 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "STRANKER"
align = 1
percent_visible = 0.0

[node name="ArtistTitle" type="Label" parent="."]
editor/display_folded = true
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -320.0
margin_top = -230.0
margin_right = 345.0
margin_bottom = -154.0
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "Game Artist:"
align = 1

[node name="ArtistLabel" type="Label" parent="ArtistTitle"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -332.5
margin_top = 60.0
margin_right = 334.5
margin_bottom = 136.0
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 0.431373, 1, 0, 1 )
text = "STRANKER"
align = 1
percent_visible = 0.0

[node name="FontTitle" type="Label" parent="."]
editor/display_folded = true
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -320.0
margin_top = -850.0
margin_right = 345.0
margin_bottom = -774.0
custom_fonts/font = SubResource( 3 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "Fonts:"
align = 1

[node name="Font" type="Label" parent="FontTitle"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -332.5
margin_top = 60.0
margin_right = 334.5
margin_bottom = 136.0
custom_fonts/font = SubResource( 5 )
custom_colors/font_color = Color( 0.921569, 0, 1, 1 )
text = "Comic Andy
by
Andy Polhill

Overload
by
Ray Larabie"
align = 1
percent_visible = 0.0

[node name="Anim" type="AnimationPlayer" parent="."]
autoplay = "Start"
anims/FadeOut = SubResource( 6 )
anims/Start = SubResource( 7 )

[node name="BackButton" type="TextureButton" parent="."]
self_modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -70.0
margin_top = -190.0
margin_right = 95.0
margin_bottom = -30.0
disabled = true
texture_normal = ExtResource( 5 )
texture_pressed = ExtResource( 6 )
expand = true
stretch_mode = 5

[node name="FadeOut" type="TextureRect" parent="."]
self_modulate = Color( 0, 0, 0, 0 )
margin_right = 1080.0
margin_bottom = 1920.0
mouse_filter = 2
texture = ExtResource( 1 )

[node name="Player" type="Node2D" parent="."]
position = Vector2( -133.396, 494.541 )
rotation = 0.242549
scale = Vector2( -4, 4 )

[node name="Skin" type="Sprite" parent="Player"]
texture = ExtResource( 7 )
hframes = 2

[node name="Pattern" type="Sprite" parent="Player"]

[node name="Scarf" type="Sprite" parent="Player"]
position = Vector2( -0.954552, 10.8371 )

[node name="Eyes" type="Sprite" parent="Player"]
position = Vector2( 0, -15 )
texture = ExtResource( 8 )
hframes = 7

[node name="Jetpack" type="Sprite" parent="Player"]
show_behind_parent = true
position = Vector2( 0.211758, 13.2967 )
texture = ExtResource( 9 )

[node name="CPUParticles2D" type="CPUParticles2D" parent="Player/Jetpack"]
show_behind_parent = true
position = Vector2( 3.89603, 6.8181 )
rotation = 1.50087
amount = 60
lifetime = 0.5
local_coords = false
texture = ExtResource( 10 )
emission_shape = 1
emission_sphere_radius = 2.0
gravity = Vector2( 0, 0 )
initial_velocity = 40.0
angle = 360.0
angle_random = 1.0
scale_amount = 3.0
color_ramp = SubResource( 8 )

[node name="Hat" type="Sprite" parent="Player"]
position = Vector2( 0, -35.5 )
scale = Vector2( 0.6, 0.6 )
[connection signal="animation_finished" from="Anim" to="." method="_on_Anim_animation_finished"]
[connection signal="button_down" from="BackButton" to="." method="_on_BackButton_button_down"]
