[gd_scene load_steps=79 format=2]

[ext_resource path="res://Sprites/Background/House.png" type="Texture" id=1]
[ext_resource path="res://Sprites/Background/SmokeParticle.png" type="Texture" id=2]
[ext_resource path="res://Sprites/Background/Bg1.png" type="Texture" id=3]
[ext_resource path="res://Sprites/Background/Bg2.png" type="Texture" id=4]
[ext_resource path="res://Sprites/Background/Star2.png" type="Texture" id=5]
[ext_resource path="res://Sprites/Background/Bg3.png" type="Texture" id=6]
[ext_resource path="res://Sprites/Background/Star3.png" type="Texture" id=7]
[ext_resource path="res://Object/Player.tscn" type="PackedScene" id=8]
[ext_resource path="res://Fonts/overload.ttf" type="DynamicFontData" id=9]
[ext_resource path="res://Sprites/Collectables/Coin.png" type="Texture" id=10]
[ext_resource path="res://Sprites/Collectables/Fish.png" type="Texture" id=11]
[ext_resource path="res://Shaders/outline.shader" type="Shader" id=12]
[ext_resource path="res://Sprites/UI/FuelFire.png" type="Texture" id=13]
[ext_resource path="res://Sprites/UI/PauseButton.png" type="Texture" id=14]
[ext_resource path="res://Sprites/UI/PauseButtonPressed.png" type="Texture" id=15]
[ext_resource path="res://Sprites/Tutorial/PawTutorial.png" type="Texture" id=16]
[ext_resource path="res://Sprites/UI/HomeButton.png" type="Texture" id=17]
[ext_resource path="res://Sprites/UI/HomeButtonPressed.png" type="Texture" id=18]
[ext_resource path="res://Sprites/UI/ConfigButton.png" type="Texture" id=19]
[ext_resource path="res://Sprites/UI/ConfigButtonPressed.png" type="Texture" id=20]
[ext_resource path="res://Sprites/UI/ContinueButton.png" type="Texture" id=21]
[ext_resource path="res://Sprites/UI/ContinueButtonPressed.png" type="Texture" id=22]
[ext_resource path="res://Scenes/ConfigPanel.tscn" type="PackedScene" id=23]
[ext_resource path="res://Sprites/UI/CloseButton.png" type="Texture" id=24]
[ext_resource path="res://Sprites/UI/CloseButtonPressed.png" type="Texture" id=25]
[ext_resource path="res://Sprites/Cat/CatHead.png" type="Texture" id=26]
[ext_resource path="res://Object/Misc/CollectableSpawner.tscn" type="PackedScene" id=27]
[ext_resource path="res://Object/Collectable/Magnet.tscn" type="PackedScene" id=28]
[ext_resource path="res://Object/Collectable/Fish.tscn" type="PackedScene" id=29]
[ext_resource path="res://Object/Collectable/CoinCluster.tscn" type="PackedScene" id=30]
[ext_resource path="res://Object/Misc/EnemySpawner.tscn" type="PackedScene" id=31]
[ext_resource path="res://Object/Enemies/PaperPlane.tscn" type="PackedScene" id=32]
[ext_resource path="res://Object/Enemies/Bird.tscn" type="PackedScene" id=33]
[ext_resource path="res://Object/Enemies/Condor.tscn" type="PackedScene" id=34]
[ext_resource path="res://Object/Enemies/Ovni.tscn" type="PackedScene" id=35]
[ext_resource path="res://Object/Misc/OrbitSpawner.tscn" type="PackedScene" id=36]
[ext_resource path="res://Object/Ribbon/Ribbon.tscn" type="PackedScene" id=37]
[ext_resource path="res://Sounds/Music/CCF Theme.ogg" type="AudioStream" id=38]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

var playing : bool = false
var player_height : int = 0
var combos : int = 0
var end_play : bool = false
var highscore_passed : bool = false

var tutorial_done : bool = false

func _ready():
	GameManager.reset_stats()
	$UIGame.update_UI_labels()
	pass

func _input(event):
	if event is InputEventKey and !event.is_echo() and event.is_pressed():
		if event.scancode == KEY_1:
			add_combo(true)

func start_game():
	playing = !playing
	GameManager.playing = playing
	pass

func add_combo(activated):
	if activated:
		combos += 1
		if combos % 10 == 0:
			$Player.combo_master()
		$UIGame.combo_fuel(combos)
	else:
		if GameManager.combos < combos:
			GameManager.combos = combos
		combos = 0
		$UIGame.failed_combo(combos)
	pass

func add_fish(val):
	GameManager.fishes += val
	$UIGame.update_fishes_label()
	pass

func add_coin(val):
	GameManager.coins += val
	$UIGame.update_coin_label()
	pass

func update_height(val):
	if val > player_height:
		player_height = val
		GameManager.player_height = player_height
		$UIGame.update_meters_label()
	pass

func end_game():
	GameManager.player_height = 0
	if GameManager.highscore < player_height:
		GameManager.highscore = player_height
		highscore_passed = true
	if GameManager.combos < combos:
		GameManager.combos = combos
	playing = !playing
	$UIGame.show_deadpanel()
	GameManager.save_game_data()
	pass

func restart_game():
	GameManager.save_game_data()
	get_tree().reload_current_scene()
	pass

func _on_RestartButton_button_down():
	$UIGame/UI/DeadPanel/CloseButton.disabled = true
	$UIGame/UI/Transition/Anim.play('Restart')
	pass # Replace with function body.

func _on_CloseButton_button_down():
	end_play = !end_play
	$UIGame.exit_play()
	pass # Replace with function body

func _on_Currency_button_down():
	GameManager.coins = 99999
	GameManager.fishes = 99999
	$UIGame.update_UI_labels()
	GameManager.save_game_data()
	pass # Replace with function body.

func _on_Button_button_down():
	$UIGame/DebugPanel.hide()
	pass # Replace with function body.

func _on_DebugButton_button_down():
	$UIGame/DebugPanel.show()
	pass # Replace with function body.

func _on_ResetGame_button_down():
	GameManager.reset_game_state()
	pass # Replace with function body.

func _on_Height_gui_input(event):
	if event is InputEventKey:
		if event.scancode == KEY_ENTER:
			if $UIGame/DebugPanel/VBoxContainer/Height.text != '':
				var height = int($UIGame/DebugPanel/VBoxContainer/Height.text)
				$Player._on_Invencible_button_down()
				$Player.global_position = Vector2($Player.position.x,-height * 100)
	pass # Replace with function body.

func on_player_invencible(val):
	$EnemySpawner.set_active(!val)
	$RibbonSpawner.set_active(!val)
	$CollectableSpawner.set_height_if_invencible(val)
	pass

func _on_ToggleEnemies_toggled(button_pressed):
	$EnemySpawner.activated = button_pressed
	pass # Replace with function body.

func _on_ToggleCollectables_toggled(button_pressed):
	$CollectableSpawner.activated = button_pressed
	pass # Replace with function body.

func _on_ToggleRibbons_toggled(button_pressed):
	$RibbonSpawner.activated = button_pressed
	pass # Replace with function body.

func _on_Music_toggled(button_pressed):
	if button_pressed:
		$Music.stream = load('res://Sounds/Music/Game.ogg')
	else:
		$Music.stream = load('res://Sounds/Music/CCF Theme.ogg')
	$Music.play()
	pass # Replace with function body."

[sub_resource type="GDScript" id=2]
script/source = "extends Node2D

func _on_VisibilityNotifier2D_screen_exited():
	$CPUParticles2D.emitting = false
	queue_free()
	pass # Replace with function body.
"

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 51.2298, 12.5829 )

[sub_resource type="Gradient" id=4]
colors = PoolColorArray( 0.730469, 0.730469, 0.730469, 1, 0, 0, 0, 0 )

[sub_resource type="GDScript" id=5]
script/source = "extends ParallaxBackground

export var space_height = 500
var on_space : bool = false

func _process(delta):
	if GameManager.player_height > space_height and !on_space:
		change_to_space()
	if !on_space and GameManager.player_height > 50:
		set_background_darker()
	pass

func set_background_darker():
	if GameManager.player_height % 50 == 0 and !$Tween.is_active():
		$Tween.stop_all()
		var actual_color = $ParallaxLayer/Bg1.self_modulate
		var new_color : Color = Color(actual_color.r - 0.05,actual_color.g - 0.05,actual_color.b - 0.05)
		$Tween.interpolate_property($ParallaxLayer/Bg1,'self_modulate',$ParallaxLayer/Bg1.self_modulate, new_color, 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
		$Tween.start()
	pass

func change_to_space():
	on_space = !on_space
	$Tween.stop_all()
	$Tween.interpolate_property($ParallaxLayer/Bg1,'self_modulate',$ParallaxLayer/Bg1.self_modulate, Color.black, 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
	$Tween.interpolate_property($ParallaxLayer2/Cloud1, 'modulate',$ParallaxLayer2/Cloud1.modulate, Color(0,0,0,0), 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
	$Tween.interpolate_property($ParallaxLayer3/Cloud2, 'modulate',$ParallaxLayer3/Cloud2.modulate, Color(0,0,0,0), 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
	$Tween.interpolate_property($ParallaxLayer2/Star1, 'modulate',$ParallaxLayer2/Star1.modulate, Color(1,1,1,1), 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
	$Tween.interpolate_property($ParallaxLayer3/Star2, 'modulate',$ParallaxLayer3/Star2.modulate, Color(1,1,1,1), 2, Tween.TRANS_LINEAR,Tween.EASE_IN)
	$Tween.start()
	pass"

[sub_resource type="GDScript" id=6]
script/source = "extends CanvasLayer

func _ready():
	$UI/ConfigPanel.hide()
	$UI/PausePanel.hide()
	$UI/DeadPanel.hide()
	$UI/Transition/Anim.play('FadeOut')
	$UI/FuelBar.value = get_parent().combos
	pass

func _process(delta):
	if GameManager.player_height >= get_parent().get_node(\"EnemySpawner\").min_height_tutorial:
		$UI/PawTutorial/Anim.play('End')
		get_parent().get_node('Player').hide_tutorial_arrow()
		set_process(false)

func update_coin_label():
	$UI/UpperPanel/CoinPanel/CoinLabel.text = str(GameManager.coins)
	$UI/UpperPanel/CoinPanel/CoinLabel/CoinControl/Anim.play('AddCoin')

func update_fishes_label():
	$UI/UpperPanel/FishPanel/FishLabel.text = str(GameManager.fishes)
	$UI/UpperPanel/FishPanel/FishLabel/FishControl/Anim.play('AddFish')
	pass

func update_meters_label():
	$UI/UpperPanel/MeterPanel/MeterLabel.text = str(GameManager.player_height)
	pass

func update_UI_labels():
	update_coin_label()
	update_fishes_label()
	update_meters_label()
	pass

func _on_PauseButton_button_down():
	set_pause_game(true)
	pass # Replace with function body.

func _on_ContinueButton_button_down():
	$UI/PauseTimer/Anim.play('Countdown')
	$UI/PausePanel.visible = false
	pass # Replace with function body.

func set_pause_game(val):
	$UI/PauseButton.disabled = val
	$UI/PauseButton.pressed = val
	$UI/PausePanel.visible = val
	get_tree().paused = val
	pass

func _on_HomeButton_button_down():
	get_parent()._on_CloseButton_button_down()
	pass # Replace with function body.

func _on_ConfigButton_button_down():
	$UI/ConfigPanel.show()
	pass # Replace with function body.

func show_deadpanel():
	$UI/PauseButton.hide()
	check_highscore()
	$UI/DeadPanel.show()
	pass

func check_highscore():
	if get_parent().highscore_passed:
		$UI/DeadPanel/Highscore.text = 'NEW HIGHSCORE! \\n ' + str(GameManager.highscore) + 'm'
		$UI/DeadPanel/Anim.play('HighscorePassed')
	else:
		$UI/DeadPanel/Highscore.text = 'CURRENT HIGHSCORE \\n ' + str(GameManager.highscore) + 'm'
	pass

func exit_play():
	$UI/Transition/Anim.play_backwards('FadeOut')
	pass

func _on_Anim_animation_finished(anim_name):
	if anim_name == 'FadeOut' and get_parent().end_play:
		get_tree().change_scene('res://Scenes/MainMenu.tscn')
	pass # Replace with function body.

func failed_to_upload_highscore():
	$UI/DeadPanel/Error.show()
	pass

func combo_fuel(val):
	$UI/UpperPanel/ComboPanel/ComboLabel/CLabel.text = str(val)
	$UI/UpperPanel/ComboPanel/ComboLabel/Anim.play('AddCombo')
	$UI/FuelBar/Tween.stop_all()
	if val % 10 == 0 and val != 0:
		$UI/FuelBar/Tween.interpolate_property($UI/FuelBar, 'value', $UI/FuelBar.value, $UI/FuelBar.max_value, 1,Tween.TRANS_EXPO,Tween.EASE_OUT)
		$UI/FuelBar/Tween.interpolate_property($UI/FuelBar, 'value', $UI/FuelBar.max_value, $UI/FuelBar.min_value, get_parent().get_node('Player').invencible_time -1,Tween.TRANS_LINEAR,Tween.EASE_IN,1)
		$UI/FuelBar/Anim.play('Pump')
	else:
		$UI/FuelBar/Tween.interpolate_property($UI/FuelBar, 'value', $UI/FuelBar.value, val % int($UI/FuelBar.max_value), 1,Tween.TRANS_EXPO,Tween.EASE_OUT)
		$UI/FuelBar/Anim.play('AddCombo')
	$UI/FuelBar/Tween.start()

func failed_combo(val):
	$UI/UpperPanel/ComboPanel/ComboLabel/CLabel.text = str(0)
	$UI/FuelBar/Tween.stop_all()
	$UI/FuelBar/Tween.interpolate_property($UI/FuelBar, 'value', $UI/FuelBar.value, 0, 1.5,Tween.TRANS_EXPO,Tween.EASE_IN)
	$UI/FuelBar/Tween.start()
	$UI/FuelBar/Anim.play('Failed')
	$UI/FuelBar/Anim.queue('Idle')
	pass"

[sub_resource type="DynamicFont" id=7]
size = 86
outline_size = 6
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="StyleBoxFlat" id=8]
bg_color = Color( 0.4, 0.00392157, 0.580392, 1 )
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color( 0.266667, 0, 0.403922, 1 )
corner_radius_top_right = 40
corner_radius_bottom_right = 40
expand_margin_left = 30.0
expand_margin_right = 110.0
shadow_size = 6

[sub_resource type="DynamicFont" id=9]
size = 42
outline_size = 6
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="DynamicFont" id=10]
size = 42
outline_size = 6
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="Animation" id=11]
resource_name = "AddCombo"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("CLabel:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 172, 11 ), Vector2( 150, 0 ), Vector2( 172, 11 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CLabel:rect_scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}

[sub_resource type="StyleBoxFlat" id=12]
bg_color = Color( 0.4, 0.00392157, 0.580392, 1 )
border_width_left = 10
border_width_top = 10
border_width_bottom = 10
border_color = Color( 0.266667, 0, 0.403922, 1 )
corner_radius_top_left = 40
corner_radius_bottom_left = 40
expand_margin_left = 120.0
expand_margin_right = 30.0
expand_margin_top = 6.0
expand_margin_bottom = 6.0
shadow_size = 6

[sub_resource type="StyleBoxFlat" id=13]
bg_color = Color( 0.4, 0.00392157, 0.580392, 1 )
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color( 0.266667, 0, 0.403922, 1 )
corner_radius_top_right = 40
corner_radius_bottom_right = 40
expand_margin_left = 30.0
expand_margin_right = 115.0
shadow_size = 6

[sub_resource type="DynamicFont" id=14]
size = 72
outline_size = 4
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
extra_spacing_char = 2
font_data = ExtResource( 9 )

[sub_resource type="Animation" id=15]
resource_name = "AddCoin"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("Coin:rect_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}

[sub_resource type="DynamicFont" id=16]
size = 72
outline_size = 4
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
extra_spacing_char = 2
font_data = ExtResource( 9 )

[sub_resource type="Animation" id=17]
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("Fish:rect_scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ) ]
}

[sub_resource type="StyleBoxFlat" id=18]
bg_color = Color( 1, 0.678431, 0, 1 )
border_width_left = 5
border_width_top = 2
border_width_right = 5
border_width_bottom = 20
border_color = Color( 1, 0.513726, 0.0431373, 1 )
border_blend = true
corner_radius_top_left = 50
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 50

[sub_resource type="StyleBoxFlat" id=19]
bg_color = Color( 0.392157, 0.392157, 0.392157, 0.337255 )
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color( 0, 0, 0, 1 )
border_blend = true
corner_radius_top_left = 50
corner_radius_top_right = 50
corner_radius_bottom_right = 50
corner_radius_bottom_left = 50
expand_margin_left = 7.0
expand_margin_right = 7.0
expand_margin_top = 7.0
expand_margin_bottom = 7.0

[sub_resource type="Animation" id=20]
resource_name = "AddCombo"
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath("TextureRect:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 401.743, -23.269 ), Vector2( 415, -37 ), Vector2( 401.743, -23.269 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("TextureRect:rect_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 87, 87 ), Vector2( 114, 114 ), Vector2( 87, 87 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:self_modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 0.305882, 0, 1 ), Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=21]
resource_name = "Failed"
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 0.5, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 0.168627, 0.168627, 0.168627, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("TextureRect:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1.5 ),
"transitions": PoolRealArray( 2, 1, 2 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 0.419608, 0.419608, 0.419608, 0.466667 ), Color( 1, 1, 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("TextureRect:rect_size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 87, 87 ), Vector2( 58, 70 ), Vector2( 87, 87 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("TextureRect:rect_position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.5, 1, 1 ),
"update": 0,
"values": [ Vector2( 401.743, -23.269 ), Vector2( 393, -9 ), Vector2( 401.743, -23.269 ) ]
}

[sub_resource type="Animation" id=22]
resource_name = "Idle"
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("TextureRect:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=23]
resource_name = "Pump"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("TextureRect:rect_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.3, 0.5 ),
"transitions": PoolRealArray( 0.5, 1, 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( 87, 87 ), Vector2( 112, 112 ), Vector2( 70, 70 ), Vector2( 87, 87 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("TextureRect:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.3, 0.4, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.6, 1.7, 1.8, 2, 2.2, 2.4, 2.6, 2.8, 3, 3.2, 3.4, 3.6, 3.8, 4 ),
"transitions": PoolRealArray( 0.5, 1, 1, 0.5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.5 ),
"update": 0,
"values": [ Vector2( 401.743, -23.269 ), Vector2( 414, -36 ), Vector2( 388.066, -14.2302 ), Vector2( 401.743, -23.269 ), Vector2( 399.247, -27.4298 ), Vector2( 396.195, -19.3857 ), Vector2( 396.75, -17.7213 ), Vector2( 403.685, -14.3926 ), Vector2( 402.298, -17.1664 ), Vector2( 402.298, -17.1664 ), Vector2( 404.517, -20.4951 ), Vector2( 404.24, -24.3786 ), Vector2( 395.918, -24.1013 ), Vector2( 396.195, -19.3857 ), Vector2( 396.75, -17.7213 ), Vector2( 404.24, -24.3786 ), Vector2( 399.247, -27.4298 ), Vector2( 403.685, -14.3926 ), Vector2( 396.75, -17.7213 ), Vector2( 402.298, -17.1664 ), Vector2( 396.195, -19.3857 ), Vector2( 395.918, -24.1013 ), Vector2( 404.517, -20.4951 ), Vector2( 404.24, -24.3786 ), Vector2( 403.685, -14.3926 ), Vector2( 399.247, -27.4298 ), Vector2( 401.743, -23.269 ) ]
}

[sub_resource type="ShaderMaterial" id=24]
shader = ExtResource( 12 )
shader_param/outline_width = 0.5
shader_param/outline_color = Color( 0, 0, 0, 1 )

[sub_resource type="Animation" id=25]
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0.729412 ), Color( 1, 1, 1, 0 ) ]
}

[sub_resource type="Animation" id=26]
length = 0.6
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ -30.0, -39.6617 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 5, 5 ), Vector2( 4, 4 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.3, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 0 ]
}

[sub_resource type="DynamicFont" id=27]
size = 18
outline_size = 2
outline_color = Color( 0.0901961, 0.0901961, 0.0901961, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="StyleBoxFlat" id=28]
bg_color = Color( 0.482353, 0, 0.67451, 1 )
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color( 0.384314, 0, 0.501961, 1 )
corner_radius_top_left = 75
corner_radius_top_right = 75
corner_radius_bottom_right = 75
corner_radius_bottom_left = 75

[sub_resource type="DynamicFont" id=29]
size = 80
outline_size = 5
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="DynamicFont" id=30]
size = 400
outline_size = 20
outline_color = Color( 0, 0, 0, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="Animation" id=31]
length = 3.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:text")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 1.5, 2.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ "3", "3", "2", "1" ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 0.6, 1.3, 1.5, 1.6, 2.3, 2.5, 2.6 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 549.258, 780 ), Vector2( 410, 680 ), Vector2( 431, 720 ), Vector2( 431, 720 ), Vector2( 410, 680 ), Vector2( 431, 720 ), Vector2( 431, 720 ), Vector2( 410, 680 ), Vector2( 431, 720 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath(".:rect_scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.5, 0.6, 1.3, 1.5, 1.6, 2.3, 2.5, 2.6 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0.2, 0.2 ), Vector2( 1.2, 1.2 ), Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.2, 1.2 ), Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.2, 1.2 ), Vector2( 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath(".:self_modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/4/type = "method"
tracks/4/path = NodePath("../..")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 3.5 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ false ],
"method": "set_pause_game"
} ]
}
tracks/5/type = "value"
tracks/5/path = NodePath(".:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 3.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}

[sub_resource type="StyleBoxFlat" id=32]
bg_color = Color( 0.545098, 0, 0.854902, 1 )
border_width_left = 10
border_width_top = 10
border_width_right = 10
border_width_bottom = 10
border_color = Color( 0.403922, 0, 0.584314, 1 )
corner_radius_top_left = 50
corner_radius_top_right = 50
corner_radius_bottom_right = 50
corner_radius_bottom_left = 50
shadow_color = Color( 0, 0, 0, 0.219608 )
shadow_size = 5

[sub_resource type="DynamicFont" id=33]
size = 80
outline_size = 6
outline_color = Color( 1, 0.952941, 0.952941, 1 )
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="DynamicFont" id=34]
size = 60
outline_size = 6
outline_color = Color( 0, 0, 0, 1 )
use_mipmaps = true
use_filter = true
font_data = ExtResource( 9 )

[sub_resource type="Animation" id=35]
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Highscore:custom_colors/font_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 0.772549, 0, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Highscore:rect_position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( -48, 31 ), Vector2( -52, 31.0001 ), Vector2( -48, 31 ), Vector2( -48, 11 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Highscore:rect_rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, -15.0, 0.0, 14.3933 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Highscore:rect_scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.5, 1.5 ), Vector2( 1, 1 ), Vector2( 1.5, 1.5 ) ]
}

[sub_resource type="Animation" id=36]
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 1 ), Color( 0.109804, 0.0509804, 0.152941, 0 ) ]
}

[sub_resource type="Animation" id=37]
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.9, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Color( 0, 0, 0, 0 ), Color( 0.12549, 0.0431373, 0.152941, 1 ), Color( 0.0431373, 0.0156863, 0.0509804, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CatHead:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.9, 1.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("CatHead:rect_size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.8, 1.5 ),
"transitions": PoolRealArray( 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 150, 190 ), Vector2( 1100, 1393 ), Vector2( 20, 25 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("CatHead:rect_position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.8, 1.5 ),
"transitions": PoolRealArray( 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 465, 865 ), Vector2( -10, 263 ), Vector2( 530, 947 ) ]
}
tracks/4/type = "method"
tracks/4/path = NodePath("../../..")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 1.5 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "restart_game"
} ]
}

[sub_resource type="DynamicFont" id=38]
size = 32
font_data = ExtResource( 9 )

[sub_resource type="DynamicFont" id=39]
size = 32
font_data = ExtResource( 9 )

[sub_resource type="GDScript" id=40]
script/source = "extends 'res://Object/Misc/Spawner.gd'

export (Array, float) var probability

func _process(delta):
	if activated:
		if check_can_spawn():
			var item = get_new_item()
			if item:
				spawn_item(item)
	pass

func get_new_item():
	var item = null
	if GameManager.player.on_magnet:
		return item
	var item_pos = 0
	var prob = rand_range(0,1)
	var spawned = false
	for i in probability:
		if prob <= i and !spawned:
			item = item_list[item_pos]
			spawned = !spawned
		else:
			item_pos += 1
	return item"

[node name="GameScene" type="Node"]
script = SubResource( 1 )

[node name="House" type="Node2D" parent="."]
editor/display_folded = true
script = SubResource( 2 )

[node name="Sprite" type="Sprite" parent="House"]
position = Vector2( 540.76, 208.427 )
scale = Vector2( 11.1798, 11.1798 )
texture = ExtResource( 1 )

[node name="StaticBody2D" type="StaticBody2D" parent="House"]
editor/display_folded = true
position = Vector2( 540.76, 208.427 )
scale = Vector2( 12, 12 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="House/StaticBody2D"]
shape = SubResource( 3 )

[node name="CPUParticles2D" type="CPUParticles2D" parent="House"]
show_behind_parent = true
position = Vector2( 1067, -180 )
rotation = -1.4071
scale = Vector2( 12, 12 )
amount = 25
lifetime = 2.5
texture = ExtResource( 2 )
emission_shape = 1
emission_sphere_radius = 2.0
spread = 35.0
flatness = 1.0
gravity = Vector2( 0, 0 )
initial_velocity = 20.0
initial_velocity_random = 0.2
angular_velocity = 150.0
angular_velocity_random = 1.0
tangential_accel = 0.5
tangential_accel_random = 1.0
angle = 360.0
angle_random = 1.0
scale_amount = 0.3
scale_amount_random = 0.4
color_ramp = SubResource( 4 )

[node name="VisibilityNotifier2D" type="VisibilityNotifier2D" parent="House"]
position = Vector2( 539.258, -643.115 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
editor/display_folded = true
script = SubResource( 5 )

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
editor/display_folded = true
motion_mirroring = Vector2( 1080, 1920 )

[node name="Bg1" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
self_modulate = Color( 0.588837, 0.438385, 0.664063, 1 )
texture = ExtResource( 3 )
centered = false

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
editor/display_folded = true
motion_scale = Vector2( 1, 0.2 )
motion_mirroring = Vector2( 0, 1920 )

[node name="Cloud1" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
texture = ExtResource( 4 )
centered = false

[node name="Star1" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
modulate = Color( 1, 1, 1, 0 )
texture = ExtResource( 5 )
centered = false

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
editor/display_folded = true
motion_scale = Vector2( 1, 0.3 )
motion_mirroring = Vector2( 0, 1920 )

[node name="Cloud2" type="Sprite" parent="ParallaxBackground/ParallaxLayer3"]
texture = ExtResource( 6 )
centered = false

[node name="Star2" type="Sprite" parent="ParallaxBackground/ParallaxLayer3"]
self_modulate = Color( 1, 1, 1, 0 )
texture = ExtResource( 7 )
centered = false

[node name="Tween" type="Tween" parent="ParallaxBackground"]

[node name="Player" parent="." instance=ExtResource( 8 )]
position = Vector2( 569.5, 830 )

[node name="UIGame" type="CanvasLayer" parent="."]
editor/display_folded = true
script = SubResource( 6 )

[node name="UI" type="Control" parent="UIGame"]
pause_mode = 2
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2

[node name="UpperPanel" type="Control" parent="UIGame/UI"]
anchor_right = 1.0
margin_bottom = 284.0

[node name="MeterPanel" type="Control" parent="UIGame/UI/UpperPanel"]
editor/display_folded = true
margin_left = 10.0
margin_top = 10.0
margin_right = 370.0
margin_bottom = 150.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="MeterLabel" type="Label" parent="UIGame/UI/UpperPanel/MeterPanel"]
editor/display_folded = true
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = 20.0
margin_top = -67.0
margin_right = 70.0
margin_bottom = 59.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 7 )
text = "0"
valign = 1

[node name="MLabel" type="Label" parent="UIGame/UI/UpperPanel/MeterPanel/MeterLabel"]
self_modulate = Color( 1, 0.843137, 0, 1 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = 20.0
margin_top = -67.5
margin_right = 78.0
margin_bottom = 67.5
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 7 )
text = "M"
valign = 1

[node name="MeterPanel" type="Panel" parent="UIGame/UI/UpperPanel/MeterPanel/MeterLabel"]
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 0
custom_styles/panelf = SubResource( 8 )
custom_styles/panel = SubResource( 8 )
custom_styles/panelnc = SubResource( 8 )

[node name="ComboPanel" type="Control" parent="UIGame/UI/UpperPanel"]
editor/display_folded = true
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = -140.0
margin_right = 370.0
margin_bottom = -24.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ComboLabel" type="Label" parent="UIGame/UI/UpperPanel/ComboPanel"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = 20.0
margin_top = -42.0
margin_right = 146.0
margin_bottom = 31.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 9 )
text = "COMBO"
valign = 1

[node name="CLabel" type="Label" parent="UIGame/UI/UpperPanel/ComboPanel/ComboLabel"]
self_modulate = Color( 1, 0.843137, 0, 1 )
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = 172.0
margin_top = -25.5
margin_right = 216.0
margin_bottom = 25.5
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 10 )
text = "0"
align = 2
valign = 1

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/UpperPanel/ComboPanel/ComboLabel"]
anims/AddCombo = SubResource( 11 )

[node name="ComboPanel" type="Panel" parent="UIGame/UI/UpperPanel/ComboPanel/ComboLabel"]
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 0
custom_styles/panelf = SubResource( 12 )
custom_styles/panel = SubResource( 13 )
custom_styles/panelnc = SubResource( 12 )

[node name="CoinPanel" type="Control" parent="UIGame/UI/UpperPanel"]
show_behind_parent = true
anchor_left = 1.0
anchor_right = 1.0
margin_left = -282.0
margin_top = 10.0
margin_bottom = 110.0

[node name="CoinLabel" type="Label" parent="UIGame/UI/UpperPanel/CoinPanel"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -50.0
margin_top = -44.0
margin_right = -11.0
margin_bottom = 44.0
grow_horizontal = 0
grow_vertical = 0
custom_fonts/font = SubResource( 14 )
text = "9"
align = 2
valign = 1

[node name="CoinControl" type="Control" parent="UIGame/UI/UpperPanel/CoinPanel/CoinLabel"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = -70.0
margin_top = -20.0
margin_right = -30.0
margin_bottom = 20.0

[node name="Coin" type="TextureRect" parent="UIGame/UI/UpperPanel/CoinPanel/CoinLabel/CoinControl"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = -28.0
margin_top = -47.0
margin_right = 68.0
margin_bottom = 49.0
grow_horizontal = 0
grow_vertical = 0
rect_min_size = Vector2( 76, 76 )
rect_pivot_offset = Vector2( 38, 39 )
texture = ExtResource( 10 )
expand = true
stretch_mode = 6

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/UpperPanel/CoinPanel/CoinLabel/CoinControl"]
anims/AddCoin = SubResource( 15 )

[node name="CoinPanel" type="Panel" parent="UIGame/UI/UpperPanel/CoinPanel/CoinLabel"]
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 0
custom_styles/panelf = SubResource( 12 )
custom_styles/panel = SubResource( 12 )
custom_styles/panelnc = SubResource( 12 )

[node name="FishPanel" type="Control" parent="UIGame/UI/UpperPanel"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -282.0
margin_top = -144.0
margin_bottom = -44.0

[node name="FishLabel" type="Label" parent="UIGame/UI/UpperPanel/FishPanel"]
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -50.0
margin_top = -49.5
margin_right = -10.0
margin_bottom = 38.5
grow_horizontal = 0
size_flags_vertical = 1
custom_fonts/font = SubResource( 16 )
text = "9"
align = 2
valign = 1

[node name="FishControl" type="Control" parent="UIGame/UI/UpperPanel/FishPanel/FishLabel"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = -70.0
margin_top = -20.0
margin_right = -30.0
margin_bottom = 20.0

[node name="Fish" type="TextureRect" parent="UIGame/UI/UpperPanel/FishPanel/FishLabel/FishControl"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -48.0
margin_top = -48.0
margin_right = 48.0
margin_bottom = 48.0
grow_horizontal = 0
grow_vertical = 0
rect_min_size = Vector2( 96, 96 )
rect_pivot_offset = Vector2( 48, 48 )
texture = ExtResource( 11 )
expand = true
stretch_mode = 6

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/UpperPanel/FishPanel/FishLabel/FishControl"]
anims/AddFish = SubResource( 17 )

[node name="FishPanel" type="Panel" parent="UIGame/UI/UpperPanel/FishPanel/FishLabel"]
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 0
custom_styles/panelf = SubResource( 12 )
custom_styles/panel = SubResource( 12 )
custom_styles/panelnc = SubResource( 12 )

[node name="FuelBar" type="ProgressBar" parent="UIGame/UI"]
editor/display_folded = true
show_behind_parent = true
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = -170.0
margin_top = -20.0
margin_right = 258.0
margin_bottom = 22.0
rect_rotation = 270.0
rect_pivot_offset = Vector2( 231.425, 21 )
custom_styles/fg = SubResource( 18 )
custom_styles/bg = SubResource( 19 )
max_value = 10.0
step = 0.0
value = 1.0
percent_visible = false

[node name="Tween" type="Tween" parent="UIGame/UI/FuelBar"]

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/FuelBar"]
anims/AddCombo = SubResource( 20 )
anims/Failed = SubResource( 21 )
anims/Idle = SubResource( 22 )
anims/Pump = SubResource( 23 )

[node name="TextureRect" type="TextureRect" parent="UIGame/UI/FuelBar"]
material = SubResource( 24 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -26.2569
margin_top = -44.269
margin_right = 60.7431
margin_bottom = 42.731
rect_rotation = 89.9999
rect_pivot_offset = Vector2( 43.5, 43.5 )
texture = ExtResource( 13 )
expand = true
stretch_mode = 6

[node name="PauseButton" type="TextureButton" parent="UIGame/UI"]
pause_mode = 2
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -150.0
margin_top = -150.0
margin_right = -29.0
margin_bottom = -32.0
texture_normal = ExtResource( 14 )
texture_pressed = ExtResource( 15 )
texture_hover = ExtResource( 15 )
texture_disabled = ExtResource( 15 )
texture_focused = ExtResource( 15 )
expand = true
stretch_mode = 5

[node name="PawTutorial" type="Sprite" parent="UIGame/UI"]
pause_mode = 1
editor/display_folded = true
modulate = Color( 1, 1, 1, 0.729412 )
position = Vector2( 914, 1261.5 )
rotation = -0.549675
scale = Vector2( 4.84536, 4.84536 )
texture = ExtResource( 16 )
offset = Vector2( 0.792252, -29.756 )
hframes = 2

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/PawTutorial"]
autoplay = "Start"
anims/End = SubResource( 25 )
anims/Start = SubResource( 26 )

[node name="Label" type="Label" parent="UIGame/UI/PawTutorial"]
margin_left = 6.65128
margin_top = -96.9099
margin_right = 55.6513
margin_bottom = -64.9099
rect_rotation = 30.0
custom_fonts/font = SubResource( 27 )
text = "TAP!"
align = 1
valign = 1

[node name="PausePanel" type="Panel" parent="UIGame/UI"]
pause_mode = 2
editor/display_folded = true
visible = false
self_modulate = Color( 1, 1, 1, 0.839216 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -374.0
margin_top = -320.5
margin_right = 374.0
margin_bottom = 320.5
custom_styles/panel = SubResource( 28 )

[node name="PauseLabel" type="Label" parent="UIGame/UI/PausePanel"]
anchor_right = 1.0
margin_top = 10.5
margin_bottom = 114.5
custom_fonts/font = SubResource( 29 )
text = "GAME PAUSED"
align = 1
valign = 1

[node name="HomeButton" type="TextureButton" parent="UIGame/UI/PausePanel"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -299.0
margin_top = -240.5
margin_right = -18.0
margin_bottom = -19.5
texture_normal = ExtResource( 17 )
texture_pressed = ExtResource( 18 )
expand = true
stretch_mode = 5

[node name="ConfigButton" type="TextureButton" parent="UIGame/UI/PausePanel"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_top = -240.0
margin_right = 310.0
margin_bottom = -19.0
texture_normal = ExtResource( 19 )
texture_pressed = ExtResource( 20 )
expand = true
stretch_mode = 5

[node name="ContinueButton" type="TextureButton" parent="UIGame/UI/PausePanel"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -172.5
margin_top = -180.0
margin_right = 172.5
margin_bottom = 126.0
texture_normal = ExtResource( 21 )
texture_pressed = ExtResource( 22 )
expand = true
stretch_mode = 5

[node name="DebugButton" type="TextureButton" parent="UIGame/UI/PausePanel"]
margin_right = 98.0
margin_bottom = 104.0

[node name="PauseTimer" type="Label" parent="UIGame/UI"]
pause_mode = 2
editor/display_folded = true
visible = false
self_modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = 9.258
margin_top = -180.0
margin_right = 262.258
margin_bottom = 300.0
rect_scale = Vector2( 0.2, 0.2 )
custom_fonts/font = SubResource( 30 )
text = "3"
align = 1

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/PauseTimer"]
anims/Countdown = SubResource( 31 )

[node name="ConfigPanel" parent="UIGame/UI" instance=ExtResource( 23 )]
pause_mode = 2
visible = false
margin_left = -420.0
margin_top = -350.0
margin_right = 420.0
margin_bottom = 350.0

[node name="DeadPanel" type="Panel" parent="UIGame/UI"]
pause_mode = 2
editor/display_folded = true
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -332.0
margin_top = -270.5
margin_right = 332.0
margin_bottom = 270.5
custom_styles/panel = SubResource( 32 )

[node name="TryAgain" type="Label" parent="UIGame/UI/DeadPanel"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -304.0
margin_top = -89.5
margin_right = 304.0
margin_bottom = 255.5
custom_fonts/font = SubResource( 33 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_outline_modulate = Color( 0, 0, 0, 1 )
custom_colors/font_color_shadow = Color( 0, 0, 0, 1 )
custom_constants/shadow_as_outline = 1
text = "Try again!"
align = 1

[node name="Highscore" type="Label" parent="UIGame/UI/DeadPanel"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -380.0
margin_top = 31.0
margin_right = 384.0
margin_bottom = 240.0
rect_pivot_offset = Vector2( 357.5, 50 )
custom_fonts/font = SubResource( 34 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_outline_modulate = Color( 0, 0, 0, 1 )
custom_colors/font_color_shadow = Color( 0, 0, 0, 1 )
custom_constants/shadow_as_outline = 1
text = "CURRENT HIGHSCORE
999m"
align = 1

[node name="RestartButton" type="TextureButton" parent="UIGame/UI/DeadPanel"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 42.0
margin_top = -248.075
margin_right = 294.0
margin_bottom = -39.0754
texture_normal = ExtResource( 21 )
texture_pressed = ExtResource( 22 )
expand = true
stretch_mode = 5

[node name="CloseButton" type="TextureButton" parent="UIGame/UI/DeadPanel"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -272.0
margin_top = -280.0
margin_right = -62.0
margin_bottom = -9.0
texture_normal = ExtResource( 24 )
texture_pressed = ExtResource( 25 )
expand = true
stretch_mode = 5

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/DeadPanel"]
anims/HighscorePassed = SubResource( 35 )

[node name="Transition" type="TextureRect" parent="UIGame/UI"]
editor/display_folded = true
self_modulate = Color( 0, 0, 0, 0 )
margin_right = 40.0
margin_bottom = 40.0
mouse_filter = 2
texture = ExtResource( 3 )
__meta__ = {
"_edit_lock_": true
}

[node name="CatHead" type="TextureRect" parent="UIGame/UI/Transition"]
modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -75.0
margin_top = -95.0
margin_right = 75.0
margin_bottom = 95.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource( 26 )
expand = true
stretch_mode = 6

[node name="Anim" type="AnimationPlayer" parent="UIGame/UI/Transition"]
autoplay = "FadeOut"
anims/FadeOut = SubResource( 36 )
anims/Restart = SubResource( 37 )

[node name="DebugPanel" type="Panel" parent="UIGame"]
pause_mode = 2
editor/display_folded = true
visible = false
anchor_top = 1.0
anchor_bottom = 1.0
margin_top = -963.0
margin_right = 442.0

[node name="VBoxContainer" type="VBoxContainer" parent="UIGame/DebugPanel"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Invencible" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_right = 442.0
margin_bottom = 116.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 38 )
toggle_mode = true
text = "ON/OFF INVENCIBLE"

[node name="Currency" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 120.0
margin_right = 442.0
margin_bottom = 236.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
text = "Currency"

[node name="ResetGame" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 240.0
margin_right = 442.0
margin_bottom = 356.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
text = "RESET GAME STATE"

[node name="ToggleCollectables" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 360.0
margin_right = 442.0
margin_bottom = 476.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
toggle_mode = true
pressed = true
text = "ON/OFF COLLECT"

[node name="ToggleEnemies" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 480.0
margin_right = 442.0
margin_bottom = 596.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
toggle_mode = true
pressed = true
text = "ON/OFF ENEMIES"

[node name="ToggleRibbons" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 600.0
margin_right = 442.0
margin_bottom = 716.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
toggle_mode = true
pressed = true
text = "ON/OFF RIBBON"

[node name="Music" type="Button" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 720.0
margin_right = 442.0
margin_bottom = 836.0
rect_min_size = Vector2( 0, 64 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_fonts/font = SubResource( 39 )
toggle_mode = true
text = "Music NEW/OLD"

[node name="Height" type="LineEdit" parent="UIGame/DebugPanel/VBoxContainer"]
margin_top = 840.0
margin_right = 442.0
margin_bottom = 963.0
rect_min_size = Vector2( 0, 50 )
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Button" type="Button" parent="UIGame/DebugPanel"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -99.9524
margin_top = -31.5034
margin_right = 20.0476
margin_bottom = 36.4966
text = "X"

[node name="SpawnPoints" type="Node2D" parent="."]
editor/display_folded = true

[node name="Position2D" type="Position2D" parent="SpawnPoints"]
position = Vector2( 540, -330 )

[node name="Position2D2" type="Position2D" parent="SpawnPoints"]
position = Vector2( 340, -330 )

[node name="Position2D3" type="Position2D" parent="SpawnPoints"]
position = Vector2( 160, -330 )

[node name="Position2D4" type="Position2D" parent="SpawnPoints"]
position = Vector2( 748.729, -330 )

[node name="Position2D5" type="Position2D" parent="SpawnPoints"]
position = Vector2( 924, -330 )

[node name="CollectableSpawner" parent="." instance=ExtResource( 27 )]
item_list = [ ExtResource( 28 ), ExtResource( 29 ), ExtResource( 30 ) ]
parent_node = NodePath("../Collectables")
spawn_points_node = NodePath("../SpawnPoints")
min_height = 8.0
max_height = 12.0
probability = [ 0.5, 0.6, 1.0 ]

[node name="EnemySpawner" parent="." instance=ExtResource( 31 )]
item_list = [ ExtResource( 32 ), ExtResource( 33 ), ExtResource( 34 ), ExtResource( 35 ) ]
parent_node = NodePath("../Enemies")
spawn_points_node = NodePath("../SpawnPoints")
min_height = 10.0
max_height = 20.0
height_control_list = [ 0, 200, 350, 500 ]
min_height_tutorial = 20

[node name="RibbonSpawner" parent="." instance=ExtResource( 36 )]
item_list = [ ExtResource( 37 ) ]
parent_node = NodePath("../Ribbons")
spawn_points_node = NodePath("../SpawnPoints")
min_height = 15.0
max_height = 20.0
min_height_tutorial = 12

[node name="PowerUpSpawner" type="Node" parent="."]
script = SubResource( 40 )

[node name="Collectables" type="Node2D" parent="."]

[node name="Enemies" type="Node2D" parent="."]

[node name="Ribbons" type="Node2D" parent="."]

[node name="Music" type="AudioStreamPlayer" parent="."]
pause_mode = 2
stream = ExtResource( 38 )
autoplay = true
bus = "Music"
[connection signal="screen_exited" from="House/VisibilityNotifier2D" to="House" method="_on_VisibilityNotifier2D_screen_exited"]
[connection signal="button_down" from="UIGame/UI/PauseButton" to="UIGame" method="_on_PauseButton_button_down"]
[connection signal="button_down" from="UIGame/UI/PausePanel/HomeButton" to="UIGame" method="_on_HomeButton_button_down"]
[connection signal="button_down" from="UIGame/UI/PausePanel/ConfigButton" to="UIGame" method="_on_ConfigButton_button_down"]
[connection signal="button_down" from="UIGame/UI/PausePanel/ContinueButton" to="UIGame" method="_on_ContinueButton_button_down"]
[connection signal="button_down" from="UIGame/UI/PausePanel/DebugButton" to="." method="_on_DebugButton_button_down"]
[connection signal="button_down" from="UIGame/UI/DeadPanel/RestartButton" to="." method="_on_RestartButton_button_down"]
[connection signal="button_down" from="UIGame/UI/DeadPanel/CloseButton" to="." method="_on_CloseButton_button_down"]
[connection signal="animation_finished" from="UIGame/UI/Transition/Anim" to="UIGame" method="_on_Anim_animation_finished"]
[connection signal="toggled" from="UIGame/DebugPanel/VBoxContainer/Invencible" to="Player" method="_on_Invencible_toggled"]
[connection signal="button_down" from="UIGame/DebugPanel/VBoxContainer/Currency" to="." method="_on_Currency_button_down"]
[connection signal="button_down" from="UIGame/DebugPanel/VBoxContainer/ResetGame" to="." method="_on_ResetGame_button_down"]
[connection signal="toggled" from="UIGame/DebugPanel/VBoxContainer/ToggleCollectables" to="." method="_on_ToggleCollectables_toggled"]
[connection signal="toggled" from="UIGame/DebugPanel/VBoxContainer/ToggleEnemies" to="." method="_on_ToggleEnemies_toggled"]
[connection signal="toggled" from="UIGame/DebugPanel/VBoxContainer/ToggleRibbons" to="." method="_on_ToggleRibbons_toggled"]
[connection signal="toggled" from="UIGame/DebugPanel/VBoxContainer/Music" to="." method="_on_Music_toggled"]
[connection signal="gui_input" from="UIGame/DebugPanel/VBoxContainer/Height" to="." method="_on_Height_gui_input"]
[connection signal="button_down" from="UIGame/DebugPanel/Button" to="." method="_on_Button_button_down"]
